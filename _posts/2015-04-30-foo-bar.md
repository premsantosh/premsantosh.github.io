---
layout: post
title: "Control calling a variable number of threads with different return types"
category: Java
tags: [threads]

description : "Recently while working with threads, I came across an issue where I had to make calls to multiple threads without waiting for the reply from the previous thread. So basically make all calls to threads and wait on every thread to join. Why not just do this:
{% highlight java %}

Future<T> futureOne = cachePool.submit(new Callable<A> () {
  @Override
  public A call() {
    return A;
  });

Future<T> futureTwo = cachePool.submit(new Callable<A> () {
  @Override
  public A call() {
    return A;
  });

futureOne.get();
futureTwo.get();

{% endhighlight %}

This sounds simple enough but the problem becomes convoluted when you do not know how many calls you need to make ahead of time and when all the calls return a different future generic. Now you don't want to write multiple if() conditions to check if you need to make a call to a particular thread or not cause it gets ugly. This is when you can make use of the beautiful things in java called enums. "

---
